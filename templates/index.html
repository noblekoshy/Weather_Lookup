<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- Set the viewport so site displays well on mobile too --> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Lookup</title>
    <!--jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
        function geolocation() {
            var pos = {}
            // Try HTML5 geolocation.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
    
                $.ajax({
                    type: "POST",
                    url: "/",
                    contentType: "application/json",
                    data: JSON.stringify({location: pos}),
                    dataType: "json",
                    success: function(response) {
                        console.log(response);
                    },
                    error: function(err) {
                        console.log(err);
                    }
                });
    
                });
            } else {
                alert("Please enable HTML geolocation and use device that supports it");
            }
        }
    </script>
</head>

<body>
    <h1>
        Weather Lookup
    </h1>
    <div class="topnav">
        <a class="active" href="/">Home</a> |
        <a href="/about">About</a> |
        <a href="/instructions">Instructions</a> 
    </div>
    <form method="POST">
        <input class="input" name="city" type="text" value="{{city}}">
        <button> Submit </button>
    </form>
    <form method="POST">
        <input type="submit" name="random_city" value="Get Random City">
    </form>
    
    <button name="geolocation" onclick="geolocation()">Use Current Location</button>

    <p>Note: "use current location" option requires the app to access your location</p>
    <p>Saved Cities: </p>
    <ul>
        <li>Example 1 - Delete x</li> 
        <li>Example 2 - Delete x</li> 
    </ul>

</body>

</html>